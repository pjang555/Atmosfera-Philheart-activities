<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login and Employee Information System</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
</head>
<body class="bg-white min-h-screen flex items-center justify-center p-4">
  <div id="loginPage" class="w-full max-w-sm bg-white rounded shadow-lg">
    <div class="bg-purple-900 p-4 rounded-t">
      <h2 class="text-white font-semibold text-lg">Login Form</h2>
    </div>
    <form id="loginForm" class="p-6 space-y-4">
      <div class="relative">
        <input
          type="text"
          id="username"
          placeholder="Email or Username"
          class="w-full border border-gray-300 rounded px-3 py-2 pr-10 text-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-700"
          required
        />
        <i class="fas fa-envelope absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
      </div>
      <div class="relative">
        <input
          type="password"
          id="password"
          placeholder="Password"
          class="w-full border border-gray-300 rounded px-3 py-2 pr-10 text-gray-600 focus:outline-none focus:ring-2 focus:ring-purple-700"
          required
        />
        <i class="fas fa-lock absolute right-3 top-1/2 -translate-y-1/2 text-gray-600"></i>
      </div>
      <div class="flex items-center justify-between">
        <button
          type="submit"
          class="bg-purple-900 text-white px-4 py-2 rounded hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-700"
        >
          Sign in
        </button>
        <a href="#" class="text-purple-700 text-sm hover:underline">Forgot Password?</a>
      </div>
    </form>
  </div>

  <div id="employeePage" class="hidden w-full max-w-full overflow-x-auto p-4">
    <div class="flex justify-between items-center mb-4">
      <div>
        <label for="search" class="text-xs">Search</label>
        <input
          id="search"
          type="text"
          class="border border-gray-300 rounded px-2 py-1 text-xs focus:outline-none focus:ring-1 focus:ring-gray-400"
          oninput="filterTable()"
        />
      </div>
      <button
        class="text-xs font-normal text-gray-700 hover:underline focus:outline-none"
        type="button"
        onclick="addEmployee()"
      >
        ADD
      </button>
    </div>
    <h1 class="text-center font-semibold text-sm mb-4">
      Employee Information System
    </h1>
    <table id="employeeTable" class="table-auto w-full text-xs border border-gray-200">
      <thead>
        <tr class="bg-gray-100 border-b border-gray-300">
          <th class="border border-gray-300 px-2 py-1 text-left font-semibold">Employee ID</th>
          <th class="border border-gray-300 px-2 py-1 text-left font-semibold">Last Name</th>
          <th class="border border-gray-300 px-2 py-1 text-left font-semibold">First Name</th>
          <th class="border border-gray-300 px-2 py-1 text-left font-semibold">Position</th>
          <th class="border border-gray-300 px-2 py-1 text-left font-semibold">Office</th>
          <th class="border border-gray-300 px-2 py-1 text-left font-semibold">Actions</th>
        </tr>
      </thead>
      <tbody id="employeeTbody">
        <tr>
          <td class="border border-gray-300 px-2 py-1">001</td>
          <td class="border border-gray-300 px-2 py-1 text-gray-400">Dela Cruz</td>
          <td class="border border-gray-300 px-2 py-1 text-blue-600 hover:underline cursor-pointer">Juan</td>
          <td class="border border-gray-300 px-2 py-1 font-semibold">Governor</td>
          <td class="border border-gray-300 px-2 py-1">Dolores</td>
          <td class="border border-gray-300 px-2 py-1 space-x-1">
            <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
            <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-2 py-1">001</td>
          <td class="border border-gray-300 px-2 py-1 text-gray-400">Dela Cruz</td>
          <td class="border border-gray-300 px-2 py-1 text-blue-600 hover:underline cursor-pointer">Juan</td>
          <td class="border border-gray-300 px-2 py-1 font-semibold">Governor</td>
          <td class="border border-gray-300 px-2 py-1">Dolores</td>
          <td class="border border-gray-300 px-2 py-1 space-x-1">
            <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
            <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-2 py-1">001</td>
          <td class="border border-gray-300 px-2 py-1 text-gray-400">Dela Cruz</td>
          <td class="border border-gray-300 px-2 py-1 text-blue-600 hover:underline cursor-pointer">Juan</td>
          <td class="border border-gray-300 px-2 py-1 font-semibold">Governor</td>
          <td class="border border-gray-300 px-2 py-1">Dolores</td>
          <td class="border border-gray-300 px-2 py-1 space-x-1">
            <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
            <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-2 py-1">001</td>
          <td class="border border-gray-300 px-2 py-1 text-gray-400">Dela Cruz</td>
          <td class="border border-gray-300 px-2 py-1 text-blue-600 hover:underline cursor-pointer">Juan</td>
          <td class="border border-gray-300 px-2 py-1 font-semibold">Governor</td>
          <td class="border border-gray-300 px-2 py-1">Dolores</td>
          <td class="border border-gray-300 px-2 py-1 space-x-1">
            <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
            <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-2 py-1">001</td>
          <td class="border border-gray-300 px-2 py-1 text-gray-400">Dela Cruz</td>
          <td class="border border-gray-300 px-2 py-1 text-blue-600 hover:underline cursor-pointer">Juan</td>
          <td class="border border-gray-300 px-2 py-1 font-semibold">Governor</td>
          <td class="border border-gray-300 px-2 py-1">Dolores</td>
          <td class="border border-gray-300 px-2 py-1 space-x-1">
            <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
            <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-2 py-1">001</td>
          <td class="border border-gray-300 px-2 py-1 text-gray-400">Dela Cruz</td>
          <td class="border border-gray-300 px-2 py-1 text-blue-600 hover:underline cursor-pointer">Juan</td>
          <td class="border border-gray-300 px-2 py-1 font-semibold">Governor</td>
          <td class="border border-gray-300 px-2 py-1">Dolores</td>
          <td class="border border-gray-300 px-2 py-1 space-x-1">
            <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
            <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-2 py-1">001</td>
          <td class="border border-gray-300 px-2 py-1 text-gray-400">Dela Cruz</td>
          <td class="border border-gray-300 px-2 py-1 text-blue-600 hover:underline cursor-pointer">Juan</td>
          <td class="border border-gray-300 px-2 py-1 font-semibold">Governor</td>
          <td class="border border-gray-300 px-2 py-1">Dolores</td>
          <td class="border border-gray-300 px-2 py-1 space-x-1">
            <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
            <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
          </td>
        </tr>
        <tr>
          <td class="border border-gray-300 px-2 py-1">001</td>
          <td class="border border-gray-300 px-2 py-1 text-gray-400">Dela Cruz</td>
          <td class="border border-gray-300 px-2 py-1 text-blue-600 hover:underline cursor-pointer">Juan</td>
          <td class="border border-gray-300 px-2 py-1 font-semibold">Governor</td>
          <td class="border border-gray-300 px-2 py-1">Dolores</td>
          <td class="border border-gray-300 px-2 py-1 space-x-1">
            <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
            <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    const loginForm = document.getElementById('loginForm');
    const loginPage = document.getElementById('loginPage');
    const employeePage = document.getElementById('employeePage');
    const employeeTbody = document.getElementById('employeeTbody');
    const searchInput = document.getElementById('search');

    loginForm.addEventListener('submit', (e) => {
      e.preventDefault();
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value.trim();

      if (username && password) {
        loginPage.classList.add('hidden');
        employeePage.classList.remove('hidden');
        attachRowListeners();
      } else {
        alert('Please enter username and password.');
      }
    });

    function attachRowListeners() {
      // Attach listeners to all current edit and delete buttons
      const editButtons = employeeTbody.querySelectorAll('.edit-btn');
      const deleteButtons = employeeTbody.querySelectorAll('.delete-btn');

      editButtons.forEach((btn) => {
        btn.onclick = handleEdit;
      });

      deleteButtons.forEach((btn) => {
        btn.onclick = handleDelete;
      });
    }

    function handleDelete(e) {
      const row = e.target.closest('tr');
      if (confirm('Are you sure you want to delete this employee?')) {
        row.remove();
      }
    }

    function handleEdit(e) {
      const row = e.target.closest('tr');
      if (row.getAttribute('data-editing') === 'true') return; // Prevent multiple edits

      row.setAttribute('data-editing', 'true');

      // Get current values
      const cells = row.querySelectorAll('td');
      const empId = cells[0].textContent.trim();
      const lastName = cells[1].textContent.trim();
      const firstName = cells[2].textContent.trim();
      const position = cells[3].textContent.trim();
      const office = cells[4].textContent.trim();

      // Replace cells with inputs
      cells[0].innerHTML = `<input type="text" class="w-full text-xs border border-gray-300 rounded px-1 py-0.5" value="${empId}" readonly />`;
      cells[1].innerHTML = `<input type="text" class="w-full text-xs border border-gray-300 rounded px-1 py-0.5" value="${lastName}" />`;
      cells[2].innerHTML = `<input type="text" class="w-full text-xs border border-gray-300 rounded px-1 py-0.5" value="${firstName}" />`;
      cells[3].innerHTML = `<input type="text" class="w-full text-xs border border-gray-300 rounded px-1 py-0.5" value="${position}" />`;
      cells[4].innerHTML = `<input type="text" class="w-full text-xs border border-gray-300 rounded px-1 py-0.5" value="${office}" />`;

      // Change buttons to Save and Cancel
      cells[5].innerHTML = `
        <button class="bg-green-600 text-white text-[9px] px-2 py-0.5 rounded save-btn">Save</button>
        <button class="bg-gray-400 text-white text-[9px] px-2 py-0.5 rounded cancel-btn">Cancel</button>
      `;

      // Attach save and cancel listeners
      cells[5].querySelector('.save-btn').onclick = () => {
        // Get input values
        const inputs = row.querySelectorAll('input');
        const newLastName = inputs[1].value.trim();
        const newFirstName = inputs[2].value.trim();
        const newPosition = inputs[3].value.trim();
        const newOffice = inputs[4].value.trim();

        if (!newLastName || !newFirstName || !newPosition || !newOffice) {
          alert('All fields except Employee ID are required.');
          return;
        }

        // Update cells with new values
        cells[1].textContent = newLastName;
        cells[2].textContent = newFirstName;
        cells[3].textContent = newPosition;
        cells[4].textContent = newOffice;

        // Restore buttons
        cells[5].innerHTML = `
          <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
          <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
        `;

        row.removeAttribute('data-editing');
        attachRowListeners();
      };

      cells[5].querySelector('.cancel-btn').onclick = () => {
        // Restore original values
        cells[1].textContent = lastName;
        cells[2].textContent = firstName;
        cells[3].textContent = position;
        cells[4].textContent = office;

        // Restore buttons
        cells[5].innerHTML = `
          <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
          <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
        `;

        row.removeAttribute('data-editing');
        attachRowListeners();
      };
    }

    function filterTable() {
      const filter = searchInput.value.toLowerCase();
      const rows = employeeTbody.querySelectorAll('tr');
      rows.forEach((row) => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(filter) ? '' : 'none';
      });
    }

    function addEmployee() {
      const newId = prompt('Enter Employee ID:', '002');
      if (!newId) return alert('Employee ID is required.');

      const newLastName = prompt('Enter Last Name:', '');
      if (!newLastName) return alert('Last Name is required.');

      const newFirstName = prompt('Enter First Name:', '');
      if (!newFirstName) return alert('First Name is required.');

      const newPosition = prompt('Enter Position:', '');
      if (!newPosition) return alert('Position is required.');

      const newOffice = prompt('Enter Office:', '');
      if (!newOffice) return alert('Office is required.');

      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td class="border border-gray-300 px-2 py-1">${newId}</td>
        <td class="border border-gray-300 px-2 py-1 text-gray-400">${newLastName}</td>
        <td class="border border-gray-300 px-2 py-1 text-blue-600 hover:underline cursor-pointer">${newFirstName}</td>
        <td class="border border-gray-300 px-2 py-1 font-semibold">${newPosition}</td>
        <td class="border border-gray-300 px-2 py-1">${newOffice}</td>
        <td class="border border-gray-300 px-2 py-1 space-x-1">
          <button class="bg-cyan-400 text-white text-[9px] px-2 py-0.5 rounded edit-btn">Edit</button>
          <button class="bg-green-500 text-white text-[9px] px-2 py-0.5 rounded delete-btn">Delete</button>
        </td>
      `;
      employeeTbody.appendChild(tr);
      attachRowListeners();
    }
  </script>
</body>
</html>